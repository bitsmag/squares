<!doctype html>
<html>
  <head>
    <title>Squares</title>
    <style>
      #logo{
        display: block;
        margin-left: auto;
        margin-right: auto;
        margin-top: 5%;
        margin-bottom: 5%;
      }

      form {
        text-align: center;
        margin-top, margin-bottom: 2%;
      }
    </style>
  </head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <body>
    <img id="logo" src="/img/logo.svg"/>
    <form id="createMatchForm" action="">
      <input id="cPlayerName" autocomplete="off" value="Your Name">
      <br/>
      <input type="submit" value="CreateMatch Match">
    </form>
    <br/>
    <br/>
    <form id="joinMatchForm" action="">
      <input id="jPlayerName" autocomplete="off" value="Your Name">
      <br/>
      <input id="matchID" autocomplete="off" value="Match ID">
      <br/>
      <input type="submit" value="Join Match">
    </form>
  </body>
  <script>
  $('#createMatchForm').submit(function(){
        window.location.replace('/createMatch/' + $('#cPlayerName').val());
        return false;
  });

  $('#joinMatchForm').submit(function(){
    var url = '/joinMatch/' + $('#matchID').val() + '/' + $('#jPlayerName').val();
    $.ajax({
      type: "GET",
      url: url,
      context: this,
      success: function(data){
        if(data){
          window.location.replace('/match/' + data.matchID + '/' + data.playerName);
        }
        else{
          alert('Could not find a match with the given ID');
        }
      }
    })
    return false;
  });
  </script>
</html>
